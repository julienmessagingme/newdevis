---
import BaseLayout from '@/layouts/BaseLayout.astro';
import AstroHeader from '@/components/astro/Header.astro';
import AstroFooter from '@/components/astro/Footer.astro';
import HowItWorksSection from '@/components/landing/HowItWorksSection';
import PostSignatureValueSection from '@/components/landing/PostSignatureValueSection';
import ScoringExplainedSection from '@/components/landing/ScoringExplainedSection';
import RisksSection from '@/components/landing/RisksSection';
import DisclaimerSection from '@/components/landing/DisclaimerSection';
import CTASection from '@/components/landing/CTASection';
import DevisCalculatorSection from '@/components/landing/DevisCalculatorSection';
// HeroSection inliné ci-dessous pour modification des textes uniquement

const jsonLd = {
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "VerifierMonDevis.fr",
  "description": "Service gratuit d'analyse de devis d'artisans pour les particuliers",
  "url": "https://verifiermondevis.fr",
  "applicationCategory": "UtilitiesApplication",
  "operatingSystem": "Web",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "EUR"
  }
};
---

<BaseLayout
  title="Vérifier un devis artisan gratuitement | VerifierMonDevis.fr"
  description="Analysez gratuitement votre devis d'artisan en 2 minutes. Score de fiabilité, vérification entreprise, prix marché. Protégez-vous avant de signer."
  canonical="https://verifiermondevis.fr/"
  jsonLd={jsonLd}
>
  <div class="min-h-screen flex flex-col">
    <AstroHeader />
    <main class="flex-1">

      <!-- ══ HERO ══ -->
      <section class="hero-gradient relative overflow-hidden">

        <!-- Fond décoratif -->
        <div class="absolute inset-0 opacity-10">
          <div class="absolute top-20 left-10 w-72 h-72 bg-primary-foreground rounded-full blur-3xl"></div>
          <div class="absolute bottom-20 right-10 w-96 h-96 bg-primary-foreground rounded-full blur-3xl"></div>
        </div>

        <div class="container relative py-12 px-4 sm:px-6 lg:py-20">
          <div class="grid lg:grid-cols-2 gap-12 items-center">

            <!-- Colonne texte -->
            <div class="text-center lg:text-left">

              <h1 class="text-2xl sm:text-3xl md:text-5xl lg:text-6xl font-bold text-primary-foreground mb-4 sm:mb-6 leading-tight px-2">
                Analyser un devis travaux
                <span class="relative inline-block">
                  avant de signer.
                  <svg class="absolute -bottom-1 sm:-bottom-2 left-0 w-full" viewBox="0 0 200 12" fill="none">
                    <path
                      d="M2 10C50 4 150 4 198 10"
                      stroke="currentColor"
                      stroke-width="3"
                      stroke-linecap="round"
                      class="text-score-green animate-underline-draw"
                      stroke-dasharray="200"
                      stroke-dashoffset="200"
                    />
                  </svg>
                </span>
              </h1>

              <p class="text-base sm:text-lg md:text-xl text-primary-foreground/80 mb-6 sm:mb-8 max-w-xl mx-auto lg:mx-0 px-2">
                Vérifiez les prix, l'entreprise et les points de vigilance.
                Prenez une décision éclairée avant d'engager votre budget.
              </p>

              <div class="flex flex-col gap-3 sm:gap-4 sm:flex-row justify-center lg:justify-start mb-8 sm:mb-10 px-2">
                <a href="/nouvelle-analyse" class="w-full sm:w-auto group">
                  <button class="inline-flex items-center justify-center gap-2 w-full bg-white text-primary hover:bg-white/90 font-semibold px-6 py-3 sm:px-8 sm:py-4 rounded-xl text-sm sm:text-base transition-colors">
                    Analyser mon devis gratuitement
                    <!-- ArrowRight -->
                    <svg class="h-4 w-4 sm:h-5 sm:w-5 transition-transform group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                  </button>
                </a>
                <a href="#comment-ca-marche" class="w-full sm:w-auto">
                  <button class="inline-flex items-center justify-center w-full text-primary-foreground hover:bg-primary-foreground/10 font-medium px-6 py-3 sm:px-8 sm:py-4 rounded-xl text-sm sm:text-base transition-colors">
                    Comment ça marche ?
                  </button>
                </a>
              </div>

              <!-- Indicateurs de confiance -->
              <div class="flex flex-col gap-2 sm:gap-4 sm:flex-row items-center justify-center lg:justify-start text-primary-foreground/70 text-xs sm:text-sm px-2">
                <div class="flex items-center gap-2">
                  <!-- CheckCircle2 -->
                  <svg class="h-4 w-4 text-score-green flex-shrink-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/><path d="M9 12l2 2 4-4"/>
                  </svg>
                  <span>Analyse en 2 minutes</span>
                </div>
                <div class="flex items-center gap-2">
                  <svg class="h-4 w-4 text-score-green flex-shrink-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/><path d="M9 12l2 2 4-4"/>
                  </svg>
                  <span>100% confidentiel</span>
                </div>
                <div class="flex items-center gap-2">
                  <svg class="h-4 w-4 text-score-green flex-shrink-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/><path d="M9 12l2 2 4-4"/>
                  </svg>
                  <span>Suivi post-signature</span>
                </div>
              </div>

            </div>

            <!-- Colonne visuelle (desktop uniquement) -->
            <div class="hidden lg:block relative">
              <div class="relative animate-float">

                <!-- Carte principale -->
                <div class="bg-card rounded-2xl shadow-2xl p-6 max-w-md mx-auto">
                  <div class="flex items-center gap-3 mb-4">
                    <div class="p-3 bg-primary/10 rounded-xl">
                      <!-- FileSearch -->
                      <svg class="h-6 w-6 text-primary" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <circle cx="4.5" cy="16.5" r="2.5"/>
                        <path d="m7.2 18.8 1.8-1.8"/>
                      </svg>
                    </div>
                    <div>
                      <h3 class="font-semibold text-foreground">Devis Plomberie</h3>
                      <p class="text-sm text-muted-foreground">Analysé le 06/01/2026</p>
                    </div>
                  </div>

                  <!-- Score -->
                  <div class="bg-score-green-bg border border-score-green/20 rounded-xl p-4 mb-4">
                    <div class="flex items-center justify-between">
                      <span class="text-sm font-medium text-score-green-foreground">Score de fiabilité</span>
                      <span class="text-2xl font-bold text-score-green">FEU VERT</span>
                    </div>
                    <div class="mt-2 h-2 bg-score-green/20 rounded-full overflow-hidden">
                      <div class="h-full bg-score-green rounded-full" style="width:85%"></div>
                    </div>
                  </div>

                  <!-- Critères -->
                  <div class="space-y-2">
                    <div class="flex items-center justify-between py-2 border-b border-border">
                      <span class="text-sm text-muted-foreground">Entreprise vérifiée</span>
                      <svg class="h-5 w-5 text-score-green" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/><path d="M9 12l2 2 4-4"/>
                      </svg>
                    </div>
                    <div class="flex items-center justify-between py-2 border-b border-border">
                      <span class="text-sm text-muted-foreground">Mentions légales</span>
                      <svg class="h-5 w-5 text-score-green" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/><path d="M9 12l2 2 4-4"/>
                      </svg>
                    </div>
                    <div class="flex items-center justify-between py-2">
                      <span class="text-sm text-muted-foreground">Prix cohérent</span>
                      <svg class="h-5 w-5 text-score-green" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/><path d="M9 12l2 2 4-4"/>
                      </svg>
                    </div>
                  </div>
                </div>

                <!-- Badge flottant -->
                <div class="absolute -top-4 -right-4 bg-score-green text-primary-foreground px-4 py-2 rounded-full text-sm font-semibold shadow-lg">
                  ✓ Conforme
                </div>

              </div>
            </div>

          </div>
        </div>
      </section>

      <!-- ══ Vous préparez des travaux ? ══ -->
      <section class="py-10 sm:py-12 bg-white border-b border-slate-100">
        <div class="container max-w-3xl">

          <div class="mb-6">
            <h2 class="text-xl sm:text-2xl font-bold text-slate-900 mb-2">
              Vous préparez des travaux ?
            </h2>
            <p class="text-sm text-slate-500 leading-relaxed">
              Avant de demander un devis, estimez le budget et l'impact réel de vos travaux.
            </p>
          </div>

          <!-- Deux cartes enrichies -->
          <div class="grid sm:grid-cols-2 gap-4">

            <!-- Carte A : Impact valorisation → simulateur dédié -->
            <a
              href="/simulateur-valorisation-travaux"
              class="group flex flex-col border-2 border-slate-200 rounded-2xl p-5 sm:p-6 hover:border-primary/30 hover:shadow-md transition-all bg-white"
            >
              <!-- Icône TrendingUp -->
              <div class="w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center mb-4 flex-shrink-0">
                <svg class="h-5 w-5 text-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                  <polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/>
                  <polyline points="16 7 22 7 22 13"/>
                </svg>
              </div>
              <p class="text-base font-bold text-slate-900 mb-2 leading-snug">
                Estimer l'impact sur la valeur du bien
              </p>
              <p class="text-sm text-slate-500 leading-relaxed flex-1">
                Découvrez si vos travaux seront réellement valorisés à la revente ou en location.
              </p>
              <span class="mt-4 inline-flex items-center justify-center gap-2 bg-primary group-hover:bg-primary/90 text-primary-foreground text-sm font-medium px-4 py-2 rounded-lg transition-colors">
                Lancer le simulateur
                <svg class="h-4 w-4 transition-transform group-hover:translate-x-0.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                </svg>
              </span>
            </a>

            <!-- Carte B : Prix de référence → calculette ci-dessous -->
            <a
              href="#calculette-prix"
              class="group flex flex-col border-2 border-slate-200 rounded-2xl p-5 sm:p-6 hover:border-primary/30 hover:shadow-md transition-all bg-white"
            >
              <!-- Icône List -->
              <div class="w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center mb-4 flex-shrink-0">
                <svg class="h-5 w-5 text-slate-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                  <line x1="8" y1="6" x2="21" y2="6"/>
                  <line x1="8" y1="12" x2="21" y2="12"/>
                  <line x1="8" y1="18" x2="21" y2="18"/>
                  <line x1="3" y1="6" x2="3.01" y2="6"/>
                  <line x1="3" y1="12" x2="3.01" y2="12"/>
                  <line x1="3" y1="18" x2="3.01" y2="18"/>
                </svg>
              </div>
              <p class="text-base font-bold text-slate-900 mb-2 leading-snug">
                Estimer le prix moyen des travaux
              </p>
              <p class="text-sm text-slate-500 leading-relaxed flex-1">
                Consultez les prix observés sur le marché pour chaque type de travaux.
              </p>
              <span class="mt-4 inline-flex items-center justify-center gap-2 bg-primary group-hover:bg-primary/90 text-primary-foreground text-sm font-medium px-4 py-2 rounded-lg transition-colors">
                Accéder à notre calculette de travaux
                <svg class="h-4 w-4 transition-transform group-hover:translate-x-0.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                </svg>
              </span>
            </a>

          </div>

        </div>
      </section>

      <!-- ══ Teaser calculette (passerelle sobre vers #calculette-prix) ══ -->
      <section class="py-5 bg-slate-50 border-b border-slate-100">
        <div class="container max-w-3xl">
          <div class="flex items-center justify-between gap-4 flex-wrap">
            <div>
              <p class="text-sm font-bold text-slate-800 mb-0.5">Calculette prix travaux</p>
              <p class="text-sm text-slate-500">Comparez votre projet aux prix observés — accessible en 1 clic.</p>
            </div>
            <a href="#calculette-prix" class="inline-flex items-center gap-1.5 text-sm font-medium text-primary hover:text-primary/80 transition-colors flex-shrink-0">
              Accéder maintenant
              <!-- ArrowDown -->
              <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3" />
              </svg>
            </a>
          </div>
        </div>
      </section>

      <!-- ══ Encadré : Une seule méthode d'analyse ══ -->
      <section class="py-8 bg-white border-b border-slate-100">
        <div class="container max-w-3xl">
          <div class="border border-slate-200 rounded-xl p-5 sm:p-6">
            <p class="text-[11px] font-bold uppercase tracking-widest text-slate-400 mb-3">
              Une seule méthode d'analyse.
            </p>
            <p class="text-sm text-slate-600 mb-3">
              Que vous analysiez un devis existant ou que vous prépariez un projet, notre méthode repose sur :
            </p>
            <ul class="space-y-1.5 text-sm text-slate-600">
              <li class="flex items-start gap-2">
                <span class="text-slate-300 mt-0.5 flex-shrink-0" aria-hidden="true">—</span>
                la cohérence des prix,
              </li>
              <li class="flex items-start gap-2">
                <span class="text-slate-300 mt-0.5 flex-shrink-0" aria-hidden="true">—</span>
                la fiabilité de l'entreprise,
              </li>
              <li class="flex items-start gap-2">
                <span class="text-slate-300 mt-0.5 flex-shrink-0" aria-hidden="true">—</span>
                la valorisation partielle des travaux,
              </li>
              <li class="flex items-start gap-2">
                <span class="text-slate-300 mt-0.5 flex-shrink-0" aria-hidden="true">—</span>
                et l'impact réel sur votre bien.
              </li>
            </ul>
          </div>
        </div>
      </section>

      <HowItWorksSection client:visible />

      <!-- ══ Calculette prix de travaux ══ -->
      <div id="calculette-prix" class="scroll-mt-16">
        <DevisCalculatorSection client:visible />
      </div>

      <PostSignatureValueSection client:visible />
      <ScoringExplainedSection client:visible />

      <!-- ── Bloc SEO : valorisation des travaux ── -->
      <section class="py-12 bg-gradient-to-r from-slate-50 to-slate-100 border-y border-slate-200">
        <div class="container max-w-4xl">
          <div class="flex flex-col sm:flex-row items-start sm:items-center gap-6">
            <!-- Icône -->
            <div class="p-3 rounded-2xl bg-amber-100 flex-shrink-0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-amber-600" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" />
              </svg>
            </div>
            <!-- Texte -->
            <div class="flex-1 min-w-0">
              <p class="text-xs font-bold uppercase tracking-widest text-amber-600 mb-1">Le saviez-vous ?</p>
              <h2 class="text-lg sm:text-xl font-bold text-slate-900 mb-2 leading-snug">
                Tous les travaux ne créent pas de valeur
              </h2>
              <p class="text-sm text-slate-600 leading-relaxed max-w-xl">
                Contrairement aux idées reçues, le montant investi dans des travaux ne se retrouve pas toujours
                dans le prix de revente. Notre analyse estime la part réellement valorisable de votre devis.
              </p>
            </div>
            <!-- CTA -->
            <a
              href="/valorisation-travaux-immobiliers"
              class="flex-shrink-0 inline-flex items-center gap-2 border border-slate-300 bg-white hover:bg-slate-50 text-slate-700 hover:text-slate-900 text-sm font-medium px-4 py-2.5 rounded-xl transition-all whitespace-nowrap shadow-sm"
            >
              Découvrir comment la valorisation fonctionne
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
              </svg>
            </a>
          </div>
        </div>
      </section>

      <RisksSection client:visible />
      <DisclaimerSection client:visible />
      <CTASection client:visible />
    </main>
    <AstroFooter />
  </div>
</BaseLayout>
